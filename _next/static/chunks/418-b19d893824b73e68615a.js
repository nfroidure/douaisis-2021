(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[418],{3646:function(e,t,r){var n=r(7228);e.exports=function(e){if(Array.isArray(e))return n(e)}},9713:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},7375:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}r.d(t,{Z:function(){return n}})},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:function(e,t,r){var n=r(3646),s=r(6860),a=r(379),u=r(8206);e.exports=function(e){return n(e)||s(e)||a(e)||u()}},1752:function(e,t,r){e.exports=r(3584)},2167:function(e,t,r){"use strict";var n=r(3038),s=r(862);t.default=void 0;var a=s(r(7294)),u=r(9414),c=r(4651),i=r(7426),o={};function l(e,t,r,n){if(e&&(0,u.isLocalURL)(t)){e.prefetch(t,r,n).catch((function(e){0}));var s=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;o[t+"%"+r+(s?"%"+s:"")]=!0}}var f=function(e){var t,r=!1!==e.prefetch,s=(0,c.useRouter)(),f=a.default.useMemo((function(){var t=(0,u.resolveHref)(s,e.href,!0),r=n(t,2),a=r[0],c=r[1];return{href:a,as:e.as?(0,u.resolveHref)(s,e.as):c||a}}),[s,e.href,e.as]),d=f.href,p=f.as,y=e.children,h=e.replace,v=e.shallow,b=e.scroll,m=e.locale;"string"===typeof y&&(y=a.default.createElement("a",null,y));var g=(t=a.Children.only(y))&&"object"===typeof t&&t.ref,O=(0,i.useIntersection)({rootMargin:"200px"}),w=n(O,2),k=w[0],j=w[1],_=a.default.useCallback((function(e){k(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,k]);(0,a.useEffect)((function(){var e=j&&r&&(0,u.isLocalURL)(d),t="undefined"!==typeof m?m:s&&s.locale,n=o[d+"%"+p+(t?"%"+t:"")];e&&!n&&l(s,d,p,{locale:t})}),[p,d,j,m,r,s]);var x={ref:_,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,r,n,s,a,c,i){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,u.isLocalURL)(r))&&(e.preventDefault(),null==c&&n.indexOf("#")>=0&&(c=!1),t[s?"replace":"push"](r,n,{shallow:a,locale:i,scroll:c}))}(e,s,d,p,h,v,b,m)},onMouseEnter:function(e){(0,u.isLocalURL)(d)&&(t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),l(s,d,p,{priority:!0}))}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var A="undefined"!==typeof m?m:s&&s.locale,C=s&&s.isLocaleDomain&&(0,u.getDomainLocale)(p,A,s&&s.locales,s&&s.domainLocales);x.href=C||(0,u.addBasePath)((0,u.addLocale)(p,A,s&&s.defaultLocale))}return a.default.cloneElement(t,x)};t.default=f},7426:function(e,t,r){"use strict";var n=r(3038);t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!u,i=(0,s.useRef)(),o=(0,s.useState)(!1),l=n(o,2),f=l[0],d=l[1],p=(0,s.useCallback)((function(e){i.current&&(i.current(),i.current=void 0),r||f||e&&e.tagName&&(i.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=c.get(t);if(r)return r;var n=new Map,s=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return c.set(t,r={id:t,observer:s,elements:n}),r}(r),s=n.id,a=n.observer,u=n.elements;return u.set(e,t),a.observe(e),function(){u.delete(e),a.unobserve(e),0===u.size&&(a.disconnect(),c.delete(s))}}(e,(function(e){return e&&d(e)}),{rootMargin:t}))}),[r,t,f]);return(0,s.useEffect)((function(){if(!u&&!f){var e=(0,a.requestIdleCallback)((function(){return d(!0)}));return function(){return(0,a.cancelIdleCallback)(e)}}}),[f]),[p,f]};var s=r(7294),a=r(3447),u="undefined"!==typeof IntersectionObserver;var c=new Map},3398:function(e,t,r){"use strict";var n;t.__esModule=!0,t.AmpStateContext=void 0;var s=((n=r(7294))&&n.__esModule?n:{default:n}).default.createContext({});t.AmpStateContext=s},6393:function(e,t,r){"use strict";t.__esModule=!0,t.isInAmpMode=u,t.useAmp=function(){return u(s.default.useContext(a.AmpStateContext))};var n,s=(n=r(7294))&&n.__esModule?n:{default:n},a=r(3398);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,r=void 0!==t&&t,n=e.hybrid,s=void 0!==n&&n,a=e.hasQuery,u=void 0!==a&&a;return r||s&&u}},2775:function(e,t,r){"use strict";var n=r(9713);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.__esModule=!0,t.defaultHead=d,t.default=void 0;var a,u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,t&&t.set(e,r);return r}(r(7294)),c=(a=r(3244))&&a.__esModule?a:{default:a},i=r(3398),o=r(1165),l=r(6393);function f(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[u.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(u.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function p(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===u.default.Fragment?e.concat(u.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var y=["name","httpEquiv","charSet","itemProp"];function h(e,t){return e.reduce((function(e,t){var r=u.default.Children.toArray(t.props.children);return e.concat(r)}),[]).reduce(p,[]).reverse().concat(d(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,r=new Set,n={};return function(s){var a=!0,u=!1;if(s.key&&"number"!==typeof s.key&&s.key.indexOf("$")>0){u=!0;var c=s.key.slice(s.key.indexOf("$")+1);e.has(c)?a=!1:e.add(c)}switch(s.type){case"title":case"base":t.has(s.type)?a=!1:t.add(s.type);break;case"meta":for(var i=0,o=y.length;i<o;i++){var l=y[i];if(s.props.hasOwnProperty(l))if("charSet"===l)r.has(l)?a=!1:r.add(l);else{var f=s.props[l],d=n[l]||new Set;"name"===l&&u||!d.has(f)?(d.add(f),n[l]=d):a=!1}}}return a}}()).reverse().map((function(e,r){var a=e.key||r;if(!t.inAmpMode&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((function(t){return e.props.href.startsWith(t)}))){var c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.props||{});return c["data-href"]=c.href,c.href=void 0,c["data-optimized-fonts"]=!0,u.default.cloneElement(e,c)}return u.default.cloneElement(e,{key:a})}))}var v=function(e){var t=e.children,r=(0,u.useContext)(i.AmpStateContext),n=(0,u.useContext)(o.HeadManagerContext);return u.default.createElement(c.default,{reduceComponentsToState:h,headManager:n,inAmpMode:(0,l.isInAmpMode)(r)},t)};t.default=v},3244:function(e,t,r){"use strict";var n=r(319),s=r(4575),a=r(3913),u=(r(1506),r(2205)),c=r(8585),i=r(9754);function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=i(e);if(t){var s=i(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return c(this,r)}}t.__esModule=!0,t.default=void 0;var l=r(7294),f=function(e){u(r,e);var t=o(r);function r(e){var a;return s(this,r),(a=t.call(this,e))._hasHeadManager=void 0,a.emitChange=function(){a._hasHeadManager&&a.props.headManager.updateHead(a.props.reduceComponentsToState(n(a.props.headManager.mountedInstances),a.props))},a._hasHeadManager=a.props.headManager&&a.props.headManager.mountedInstances,a}return a(r,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),r}(l.Component);t.default=f},9008:function(e,t,r){e.exports=r(2775)},1664:function(e,t,r){e.exports=r(2167)},1163:function(e,t,r){e.exports=r(4651)},2283:function(e,t,r){"use strict";r.d(t,{cI:function(){return me}});var n=r(7294),s=e=>"checkbox"===e.type,a=e=>e instanceof Date,u=e=>null==e;const c=e=>"object"===typeof e;var i=e=>!u(e)&&!Array.isArray(e)&&c(e)&&!a(e),o=e=>e.substring(0,e.search(/.\d/))||e,l=(e,t)=>[...e].some((e=>o(t)===e)),f=e=>e.filter(Boolean),d=e=>void 0===e,p=(e,t,r)=>{if(i(e)&&t){const n=f(t.split(/[,[\].]+?/)).reduce(((e,t)=>u(e)?e:e[t]),e);return d(n)||n===e?d(e[t])?r:e[t]:n}};const y="blur",h="onBlur",v="onChange",b="onSubmit",m="onTouched",g="all",O="max",w="min",k="maxLength",j="minLength",_="pattern",x="required",A="validate";var C=(e,t)=>{const r=Object.assign({},e);return delete r[t],r};const S=n.createContext(null);S.displayName="RHFContext";var V=(e,t,r,n,s=!0)=>e?new Proxy(t,{get:(e,t)=>{if(t in e)return r.current[t]!==g&&(r.current[t]=!s||g),n&&(n.current[t]=!0),e[t]}}):t,D=e=>i(e)&&!Object.keys(e).length,M=(e,t,r)=>{const n=C(e,"name");return D(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find((e=>t[e]===(!r||g)))},E=e=>Array.isArray(e)?e:[e],R="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;const F=R?"Proxy"in window:"undefined"!==typeof Proxy;var P=(e,t,r,n,s)=>t?Object.assign(Object.assign({},r[e]),{types:Object.assign(Object.assign({},r[e]&&r[e].types?r[e].types:{}),{[n]:s||!0})}):{},I=e=>/^\w*$/.test(e),L=e=>f(e.replace(/["|']|\]/g,"").split(/\.|\[/));function N(e,t,r){let n=-1;const s=I(t)?[t]:L(t),a=s.length,u=a-1;for(;++n<a;){const t=s[n];let a=r;if(n!==u){const r=e[t];a=i(r)||Array.isArray(r)?r:isNaN(+s[n+1])?{}:[]}e[t]=a,e=e[t]}return e}const T=(e,t,r)=>{for(const n of r||Object.keys(e)){const r=p(e,n);if(r){const e=r._f,n=C(r,"_f");if(e&&t(e.name)){if(e.ref.focus&&d(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else i(n)&&T(n,t)}}},H=(e,t={})=>{for(const r in e.current){const n=e.current[r];if(n&&!u(t)){const e=n._f,s=C(n,"_f");N(t,r,e&&e.ref?e.ref.disabled||e.refs&&e.refs.every((e=>e.disabled))?void 0:e.value:Array.isArray(n)?[]:{}),s&&H({current:s},t[r])}}return t};var B=e=>u(e)||!c(e);function U(e,t,r){if(B(e)||B(t)||a(e)||a(t))return e===t;if(!n.isValidElement(e)){const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(const a of n){const n=e[a];if(!r||"ref"!==a){const e=t[a];if((i(n)||Array.isArray(n))&&(i(e)||Array.isArray(e))?!U(n,e,r):n!==e)return!1}}}return!0}function q(e,t){if(B(e)||B(t))return t;for(const n in t){const s=e[n],a=t[n];try{e[n]=i(s)&&i(a)||Array.isArray(s)&&Array.isArray(a)?q(s,a):a}catch(r){}}return e}function $(e,t,r,n,s){let a=-1;for(;++a<e.length;){for(const n in e[a])Array.isArray(e[a][n])?(!r[a]&&(r[a]={}),r[a][n]=[],$(e[a][n],p(t[a]||{},n,[]),r[a][n],r[a],n)):!u(t)&&U(p(t[a]||{},n),e[a][n])?N(r[a]||{},n):r[a]=Object.assign(Object.assign({},r[a]),{[n]:!0});n&&!r.length&&delete n[s]}return r}var K=(e,t,r)=>q($(e,t,r.slice(0,e.length)),$(t,e,r.slice(0,e.length)));var W=e=>"boolean"===typeof e;function z(e,t){const r=I(t)?[t]:L(t),n=1==r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=d(e)?n++:e[t[n++]];return e}(e,r),s=r[r.length-1];let a;n&&delete n[s];for(let u=0;u<r.slice(0,-1).length;u++){let t,n=-1;const s=r.slice(0,-(u+1)),c=s.length-1;for(u>0&&(a=e);++n<s.length;){const r=s[n];t=t?t[r]:e[r],c===n&&(i(t)&&D(t)||Array.isArray(t)&&!t.filter((e=>i(e)&&!D(e)||W(e))).length)&&(a?delete a[r]:delete e[r]),a=t}}return e}var Q=e=>"file"===e.type,Z=e=>"select-multiple"===e.type,G=e=>"radio"===e.type;const J={value:!1,isValid:!1},X={value:!0,isValid:!0};var Y=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!d(e[0].attributes.value)?d(e[0].value)||""===e[0].value?X:{value:e[0].value,isValid:!0}:X:J}return J},ee=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>d(e)?e:t?""===e?NaN:+e:r?new Date(e):n?n(e):e;const te={isValid:!1,value:null};var re=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),te):te;function ne(e){if(e&&e._f){const r=e._f.ref;if(r.disabled)return;return Q(r)?r.files:G(r)?re(e._f.refs).value:Z(r)?(t=r.options,[...t].filter((({selected:e})=>e)).map((({value:e})=>e))):s(r)?Y(e._f.refs).value:ee(d(r.value)?e._f.ref.value:r.value,e._f)}var t}var se=(e,t,r,n)=>{const s={};for(const a of e){const e=p(t,a);e&&N(s,a,e._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ae=e=>"function"===typeof e,ue=e=>"string"===typeof e,ce=e=>ue(e)||n.isValidElement(e),ie=e=>e instanceof RegExp;function oe(e,t,r="validate"){if(ce(e)||Array.isArray(e)&&e.every(ce)||W(e)&&!e)return{type:r,message:ce(e)?e:"",ref:t}}var le=e=>i(e)&&!ie(e)?e:{value:e,message:""},fe=async({_f:{ref:e,refs:t,required:r,maxLength:n,minLength:a,min:c,max:o,pattern:l,validate:f,name:d,value:p,valueAsNumber:y,mount:h}},v,b)=>{if(!h)return{};const m=t?t[0]:e,g=e=>{b&&m.reportValidity&&(m.setCustomValidity(W(e)?"":e||" "),m.reportValidity())},C={},S=G(e),V=s(e),M=S||V,E=(y||Q(e))&&!e.value||""===p||Array.isArray(p)&&!p.length,R=P.bind(null,d,v,C),F=(t,r,n,s=k,a=j)=>{const u=t?r:n;C[d]=Object.assign({type:t?s:a,message:u,ref:e},R(t?s:a,u))};if(r&&(!M&&(E||u(p))||W(p)&&!p||V&&!Y(t).isValid||S&&!re(t).isValid)){const{value:e,message:t}=ce(r)?{value:!!r,message:r}:le(r);if(e&&(C[d]=Object.assign({type:x,message:t,ref:m},R(x,t)),!v))return g(t),C}if(!E&&(!u(c)||!u(o))){let t,r;const n=le(o),s=le(c);if(isNaN(p)){const a=e.valueAsDate||new Date(p);ue(n.value)&&(t=a>new Date(n.value)),ue(s.value)&&(r=a<new Date(s.value))}else{const a=e.valueAsNumber||parseFloat(p);u(n.value)||(t=a>n.value),u(s.value)||(r=a<s.value)}if((t||r)&&(F(!!t,n.message,s.message,O,w),!v))return g(C[d].message),C}if((n||a)&&!E&&ue(p)){const e=le(n),t=le(a),r=!u(e.value)&&p.length>e.value,s=!u(t.value)&&p.length<t.value;if((r||s)&&(F(r,e.message,t.message),!v))return g(C[d].message),C}if(l&&!E&&ue(p)){const{value:t,message:r}=le(l);if(ie(t)&&!p.match(t)&&(C[d]=Object.assign({type:_,message:r,ref:e},R(_,r)),!v))return g(r),C}if(f)if(ae(f)){const e=oe(await f(p),m);if(e&&(C[d]=Object.assign(Object.assign({},e),R(A,e.message)),!v))return g(e.message),C}else if(i(f)){let e={};for(const t in f){if(!D(e)&&!v)break;const r=oe(await f[t](p),m,t);r&&(e=Object.assign(Object.assign({},r),R(t,r.message)),g(r.message),v&&(C[d]=e))}if(!D(e)&&(C[d]=Object.assign({ref:m},e),!v))return C}return g(!0),C},de=e=>({isOnSubmit:!e||e===b,isOnBlur:e===h,isOnChange:e===v,isOnAll:e===g,isOnTouch:e===m}),pe=e=>e instanceof HTMLElement;class ye{constructor(){this.tearDowns=[]}add(e){this.tearDowns.push(e)}unsubscribe(){for(const e of this.tearDowns)e();this.tearDowns=[]}}class he{constructor(e,t){this.observer=e,this.closed=!1,t.add((()=>this.closed=!0))}next(e){this.closed||this.observer.next(e)}}class ve{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}subscribe(e){const t=new ye,r=new he(e,t);return this.observers.push(r),t}unsubscribe(){this.observers=[]}}const be="undefined"===typeof window;function me({mode:e=b,reValidateMode:t=v,resolver:r,context:c,defaultValues:h={},shouldFocusError:m=!0,shouldUseNativeValidation:O,shouldUnregister:w,criteriaMode:k}={}){const[j,_]=n.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),x=n.useRef({isDirty:!F,dirtyFields:!F,touchedFields:!F,isValidating:!F,isValid:!F,errors:!F}),A=n.useRef(r),S=n.useRef(j),P=n.useRef({}),I=n.useRef(h),L=n.useRef({}),q=n.useRef(c),$=n.useRef(!1),W=n.useRef(!1),J=n.useRef({watch:new ve,control:new ve,array:new ve,state:new ve}),X=n.useRef({mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1}),Y=de(e),te=k===g;A.current=r,q.current=c;const re=e=>X.current.watchAll||X.current.watch.has(e)||X.current.watch.has((e.match(/\w+/)||[])[0]),ce=n.useCallback((async(e,t,n,s,a,u)=>{const c=p(S.current.errors,t),i=!!x.current.isValid&&(r?a:await me(P.current,!0));if(n?N(S.current.errors,t,n):z(S.current.errors,t),(u||(n?!U(c,n,!0):c)||!D(s)||S.current.isValid!==i)&&!e){const e=Object.assign(Object.assign({},s),{isValid:!!i,errors:S.current.errors,name:t});S.current=Object.assign(Object.assign({},S.current),e),J.current.state.next(u?{name:t}:e)}J.current.state.next({isValidating:!1})}),[]),ie=n.useCallback(((e,t,r={},n,a)=>{a&&Se(e);const c=p(P.current,e);if(c){const a=c._f;if(a){const c=R&&pe(a.ref)&&u(t)?"":t;if(a.value=ee(t,a),G(a.ref)?(a.refs||[]).forEach((e=>e.checked=e.value===c)):Q(a.ref)&&!ue(c)?a.ref.files=c:Z(a.ref)?[...a.ref.options].forEach((e=>e.selected=c.includes(e.value))):s(a.ref)&&a.refs?a.refs.length>1?a.refs.forEach((e=>e.checked=Array.isArray(c)?!!c.find((t=>t===e.value)):c===e.value)):a.refs[0].checked=!!c:a.ref.value=c,n){const r=H(P);N(r,e,t),J.current.control.next({values:Object.assign(Object.assign({},I.current),r),name:e})}(r.shouldDirty||r.shouldTouch)&&le(e,c,r.shouldTouch),r.shouldValidate&&ge(e)}else c._f={ref:{name:e,value:t},value:t}}}),[]),oe=n.useCallback(((e,t)=>{const r=H(P);return e&&t&&N(r,e,t),!U(r,I.current)}),[]),le=n.useCallback(((e,t,r,n=!0)=>{const s={name:e};let a=!1;if(x.current.isDirty){const e=S.current.isDirty;S.current.isDirty=oe(),s.isDirty=S.current.isDirty,a=e!==s.isDirty}if(x.current.dirtyFields&&!r){const r=p(S.current.dirtyFields,e);!U(p(I.current,e),t)?N(S.current.dirtyFields,e,!0):z(S.current.dirtyFields,e),s.dirtyFields=S.current.dirtyFields,a=a||r!==p(S.current.dirtyFields,e)}const u=p(S.current.touchedFields,e);return r&&!u&&(N(S.current.touchedFields,e,r),s.touchedFields=S.current.touchedFields,a=a||x.current.touchedFields&&u!==r),a&&n&&J.current.state.next(s),a?s:{}}),[]),ye=n.useCallback((async(e,t)=>{const r=(await fe(p(P.current,e),te,O))[e];return await ce(t,e,r),d(r)}),[te]),he=n.useCallback((async e=>{const{errors:t}=await A.current(H(P),q.current,se(X.current.mount,P.current,k,O));if(e)for(const r of e){const e=p(t,r);e?N(S.current.errors,r,e):z(S.current.errors,r)}else S.current.errors=t;return t}),[k,O]),me=async(e,t,r={valid:!0})=>{for(const n in e){const s=e[n];if(s){const e=s._f,n=C(s,"_f");if(e){const n=await fe(s,te,O);if(t){if(n[e.name]){r.valid=!1;break}}else n[e.name]?N(S.current.errors,e.name,n[e.name]):z(S.current.errors,e.name)}n&&await me(n,t,r)}}return r.valid},ge=n.useCallback((async(e,t={})=>{const n=E(e);let s;if(J.current.state.next({isValidating:!0}),r){const t=await he(d(e)?e:n);s=e?n.every((e=>!p(t,e))):D(t)}else e?s=(await Promise.all(n.filter((e=>p(P.current,e,{})._f)).map((async e=>await ye(e,!0))))).every(Boolean):(await me(P.current),s=D(S.current.errors));return J.current.state.next(Object.assign(Object.assign({},ue(e)?{name:e}:{}),{errors:S.current.errors,isValidating:!1})),t.shouldFocus&&!s&&T(P.current,(e=>p(S.current.errors,e)),e?n:X.current.mount),x.current.isValid&&we(),s}),[he,ye]),Oe=(e,t)=>{const r=p(P.current,e);if(r){const n=d(r._f.value),s=n?d(p(L.current,e))?p(I.current,e):p(L.current,e):r._f.value;d(s)?n&&(r._f.value=ne(r)):t&&t.defaultChecked?r._f.value=ne(r):ie(e,s)}W.current&&x.current.isValid&&we()},we=n.useCallback((async(e={})=>{const t=r?D((await A.current(Object.assign(Object.assign({},H(P)),e),q.current,se(X.current.mount,P.current,k,O))).errors):await me(P.current,!0);t!==S.current.isValid&&J.current.state.next({isValid:t})}),[k,O]),ke=n.useCallback(((e,t,r)=>Object.entries(t).forEach((([t,n])=>{const s=`${e}.${t}`,u=p(P.current,s);!X.current.array.has(e)&&B(n)&&(!u||u._f)||a(n)?ie(s,n,r,!0,!u):ke(s,n,r)}))),[ge]),je=n.useCallback((async({type:e,target:n,target:{value:a,name:u,type:c}})=>{let i,l;const f=p(P.current,u);if(f){let v=c?ne(f):void 0;v=d(v)?a:v;const b=e===y,{isOnBlur:m,isOnChange:g}=de(t),w=(h=f._f,!(f._f.mount&&h&&(h.required||h.min||h.max||h.maxLength||h.minLength||h.pattern||h.validate))&&!r&&!p(S.current.errors,u)||(({isOnBlur:e,isOnChange:t,isOnTouch:r,isTouched:n,isReValidateOnBlur:s,isReValidateOnChange:a,isBlurEvent:u,isSubmitted:c,isOnAll:i})=>!i&&(!c&&r?!(n||u):(c?s:e)?!u:!(c?a:t)||u))(Object.assign({isBlurEvent:b,isTouched:!!p(S.current.touchedFields,u),isSubmitted:S.current.isSubmitted,isReValidateOnBlur:m,isReValidateOnChange:g},Y))),j=!b&&re(u);d(v)||(f._f.value=v);const _=le(u,f._f.value,b,!1),x=!D(_)||j;if(w)return!b&&J.current.watch.next({name:u,type:e,values:_e()}),x&&J.current.state.next(j?{name:u}:Object.assign(Object.assign({},_),{name:u}));if(J.current.state.next({isValidating:!0}),r){const{errors:e}=await A.current(H(P),q.current,se([u],P.current,k,O));if(i=p(e,u),s(n)&&!i){const t=o(u),r=p(e,t,{});r.type&&r.message&&(i=r),(r||p(S.current.errors,t))&&(u=t)}l=D(e)}else i=(await fe(f,te,O))[u];!b&&J.current.watch.next({name:u,type:e,values:_e()}),ce(!1,u,i,_,l,j)}var h}),[]),_e=e=>{const t=Object.assign(Object.assign({},I.current),H(P));return d(e)?t:ue(e)?p(t,e):e.map((e=>p(t,e)))},xe=n.useCallback(((e,t,r,n)=>{const s=Array.isArray(e),a=n||W.current?Object.assign(Object.assign({},I.current),n||H(P)):d(t)?I.current:s?t:{[e]:t};if(d(e))return r&&(X.current.watchAll=!0),a;const u=[];for(const c of E(e))r&&X.current.watch.add(c),u.push(p(a,c));return s?u:u[0]}),[]),Ae=(e,t={})=>{for(const r of e?E(e):X.current.mount)X.current.mount.delete(r),X.current.array.delete(r),p(P.current,r)&&(!t.keepError&&z(S.current.errors,r),!t.keepValue&&z(P.current,r),!t.keepDirty&&z(S.current.dirtyFields,r),!t.keepTouched&&z(S.current.touchedFields,r),!w&&!t.keepDefaultValue&&z(I.current,r));J.current.watch.next({values:_e()}),J.current.state.next(Object.assign(Object.assign({},S.current),t.keepDirty?{isDirty:oe()}:{})),!t.keepIsValid&&we()},Ce=(e,t,r)=>{Se(e,r);let n=p(P.current,e);const a=(e=>G(e)||s(e))(t);t===n._f.ref||a&&f(n._f.refs||[]).find((e=>e===t))||(n={_f:a?Object.assign(Object.assign({},n._f),{refs:[...f(n._f.refs||[]).filter((e=>pe(e)&&document.contains(e))),t],ref:{type:t.type,name:e}}):Object.assign(Object.assign({},n._f),{ref:t})},N(P.current,e,n),Oe(e,t))},Se=n.useCallback(((e,t={})=>{const r=p(P.current,e);return N(P.current,e,{_f:Object.assign(Object.assign(Object.assign({},r&&r._f?r._f:{ref:{name:e}}),{name:e,mount:!0}),t)}),X.current.mount.add(e),!r&&Oe(e),be?{name:e}:{name:e,onChange:je,onBlur:je,ref:r=>{if(r)Ce(e,r,t);else{const r=p(P.current,e,{}),n=w||t.shouldUnregister;r._f&&(r._f.mount=!1,d(r._f.value)&&(r._f.value=r._f.ref.value)),n&&(!l(X.current.array,e)||!$.current)&&X.current.unMount.add(e)}}}}),[]),Ve=n.useCallback(((e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let s=!0,a=H(P);J.current.state.next({isSubmitting:!0});try{if(r){const{errors:e,values:t}=await A.current(a,q.current,se(X.current.mount,P.current,k,O));S.current.errors=e,a=t}else await me(P.current);D(S.current.errors)&&Object.keys(S.current.errors).every((e=>p(a,e)))?(J.current.state.next({errors:{},isSubmitting:!0}),await e(a,n)):(t&&await t(S.current.errors,n),m&&T(P.current,(e=>p(S.current.errors,e)),X.current.mount))}catch(u){throw s=!1,u}finally{S.current.isSubmitted=!0,J.current.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:D(S.current.errors)&&s,submitCount:S.current.submitCount+1,errors:S.current.errors})}}),[m,te,k,O]),De=(e,t="")=>{for(const r in e){const n=e[r],s=t+(t?".":"")+r,a=p(P.current,s);a&&a._f||(i(n)||Array.isArray(n)?De(n,s):a||Se(s,{value:n}))}};return n.useEffect((()=>{const e=J.current.state.subscribe({next(e){M(e,x.current,!0)&&(S.current=Object.assign(Object.assign({},S.current),e),_(S.current))}}),t=J.current.array.subscribe({next(e){if(e.values&&e.name&&x.current.isValid){const t=H(P);N(t,e.name,e.values),we(t)}}});return()=>{e.unsubscribe(),t.unsubscribe()}}),[]),n.useEffect((()=>{const e=[],t=e=>!pe(e)||!document.contains(e);W.current||(W.current=!0,x.current.isValid&&we(),!w&&De(I.current));for(const r of X.current.unMount){const n=p(P.current,r);n&&(n._f.refs?n._f.refs.every(t):t(n._f.ref))&&e.push(r)}e.length&&Ae(e),X.current.unMount=new Set})),{control:n.useMemo((()=>({register:Se,inFieldArrayActionRef:$,getIsDirty:oe,subjectsRef:J,watchInternal:xe,fieldsRef:P,updateIsValid:we,namesRef:X,readFormStateRef:x,formStateRef:S,defaultValuesRef:I,fieldArrayDefaultValuesRef:L,setValues:ke,unregister:Ae,shouldUnmount:w})),[]),formState:V(F,j,x),trigger:ge,register:Se,handleSubmit:Ve,watch:n.useCallback(((e,t)=>ae(e)?J.current.watch.subscribe({next:r=>e(xe(void 0,t),r)}):xe(e,t,!0)),[]),setValue:n.useCallback(((e,t,r={})=>{const n=p(P.current,e),s=X.current.array.has(e);s&&(J.current.array.next({values:t,name:e,isReset:!0}),(x.current.isDirty||x.current.dirtyFields)&&r.shouldDirty&&(N(S.current.dirtyFields,e,K(t,p(I.current,e,[]),p(S.current.dirtyFields,e,[]))),J.current.state.next({name:e,dirtyFields:S.current.dirtyFields,isDirty:oe(e,t)})),!t.length&&N(P.current,e,[])&&N(L.current,e,[])),(n&&!n._f||s)&&!u(t)?ke(e,t,s?{}:r):ie(e,t,r,!0,!n),re(e)&&J.current.state.next({}),J.current.watch.next({name:e,values:_e()})}),[ke]),getValues:n.useCallback(_e,[]),reset:n.useCallback(((e,t={})=>{const r=e||I.current;if(R&&!t.keepValues)for(const s of X.current.mount){const e=p(P.current,s);if(e&&e._f){const t=Array.isArray(e._f.refs)?e._f.refs[0]:e._f.ref;try{pe(t)&&t.closest("form").reset();break}catch(n){}}}t.keepDefaultValues||(I.current=Object.assign({},r),L.current=Object.assign({},r)),t.keepValues||(P.current={},J.current.control.next({values:t.keepDefaultValues?I.current:Object.assign({},r)}),J.current.watch.next({values:Object.assign({},r)}),J.current.array.next({values:Object.assign({},r),isReset:!0})),X.current={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1},J.current.state.next({submitCount:t.keepSubmitCount?S.current.submitCount:0,isDirty:t.keepDirty?S.current.isDirty:!!t.keepDefaultValues&&U(e,I.current),isSubmitted:!!t.keepIsSubmitted&&S.current.isSubmitted,dirtyFields:t.keepDirty?S.current.dirtyFields:{},touchedFields:t.keepTouched?S.current.touchedFields:{},errors:t.keepErrors?S.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),W.current=!!t.keepIsValid}),[]),clearErrors:n.useCallback((e=>{e?E(e).forEach((e=>z(S.current.errors,e))):S.current.errors={},J.current.state.next({errors:S.current.errors})}),[]),unregister:n.useCallback(Ae,[]),setError:n.useCallback(((e,t,r)=>{const n=((p(P.current,e)||{_f:{}})._f||{}).ref;N(S.current.errors,e,Object.assign(Object.assign({},t),{ref:n})),J.current.state.next({name:e,errors:S.current.errors,isValid:!1}),r&&r.shouldFocus&&n&&n.focus&&n.focus()}),[]),setFocus:n.useCallback((e=>p(P.current,e)._f.ref.focus()),[])}}}}]);